(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"4W8r":function(t,e,i){"use strict";var n=i("mrSG"),o=i("Ee6d"),r=i("h9u6"),s=function(){function t(t){this.http=t,this.copy=1,this.sum=0,this.total=0,this.esc="\x1b",this.cmds="",this.pages="",this.copy=1,this.sum=0,this.total=0,this.esc="\x1b",this.cmds="",this.addCmd(this.esc+"@"),this.newLine(2),this.addCmd("\x1b3")}return t.prototype.addCmd=function(t){return this.cmds+=t,this},t.prototype.newLine=function(t){void 0===t&&(t=1);for(var e=0;e<=t;e++)this.cmds+="\n";return this},t.prototype.configDate=function(){this.align("center");var t=new Date;t=t.getDate()+"/"+t.getMonth()+"/"+t.getFullYear()+"  "+t.getHours()+":"+(t.getMinutes()<10?"0":"")+t.getMinutes()+":"+t.getSeconds(),this.addCmd(t),this.newLine()},t.prototype.setFontSize=function(t){t||(t=0);var e=Array();return e[0]="\0",e[1]="\x01",e[2]="\x02",e[3]="\x03",e[4]="\x04",e[5]="\x05",e[6]="\x06",e[7]="\x07",e[10]="\x10",e[12]="\x12",e[14]="\x14",e[16]="\x16",e[18]="\x18",e[20]=" ",e[30]="0",e[38]="8",this.addCmd(this.esc+"!"+e[t])},t.prototype.quote=function(t){return t&&(t=(t=(t=(t=(t=(t=(t=t.toLowerCase()).replace(new RegExp("[\xc1\xc0\xc2\xc3]","gi"),"a")).replace(new RegExp("[\xc9\xc8\xca]","gi"),"e")).replace(new RegExp("[\xcd\xcc\xce]","gi"),"i")).replace(new RegExp("[\xd3\xd2\xd4\xd5]","gi"),"o")).replace(new RegExp("[\xda\xd9\xdb]","gi"),"u")).replace(new RegExp("[\xc7]","gi"),"c")),t},t.prototype.execute=function(t){t.cmds=this.cmds,this.http.post(t.url+"/printer",t).subscribe(function(t){console.log(t)},function(t){})},t.prototype.cut=function(t){var e="A\x03";return"partial"==t&&(e="\x01"),this.cmds+="\x1dV"+e,this},t.prototype.underline=function(t){return this.cmds+=t?"\x1b-\x02":"\x1b-\0",this},t.prototype.bold=function(t){return this.cmds+=t?"\x1bE\x01":"\x1bE\0",this},t.prototype.align=function(t){var e={left:"\0",center:"\x01",right:"\x02"};return t in e&&(this.cmds+="\x1ba"+e[t]),this},t.prototype.reset=function(){return this.pages=this.cmds,this.cmds="\x1b@",this.copy=1,this.sum=0,this.total=0,this.addCmd(this.esc+"@"),this.newLine(2),this.addCmd("\x1b3"),this},t.prototype.setFreight=function(t){return t&&(t=parseFloat(t),this.total+=t,this.addCmd("FRETE: R$ "+t).newLine()),this},t.prototype.calcRateService=function(t){if(t){var e=this.sum*t;e/=100,this.addCmd("TAX "+t+"%  R$"+parseFloat(e.toFixed(2))),this.total+=e}return this.newLine(),this},t.prototype.resume=function(t){var e=t.change?t.change:0;return this.setFreight(t.freight).calcRateService(t.printer_options.rate_service).addCmd("TOTAL: R$"+parseFloat(this.total.toFixed(2))).newLine(1).newLine().addCmd("----------------------").newLine().addCmd("PAGAMENTO : "+this.quote(t.form_payment)).newLine().addCmd("TROCO: "+e).newLine(),this},t}(),h=function(t){function e(e){var i=t.call(this,e)||this;return i.http=e,i}return n.d(e,t),e.prototype.headers=function(t){return this.copy=t.copy_master,this.align("center"),this.configDate(),this.setFontSize(38),this.addCmd(this.quote(t.company_name)),this.setFontSize(0),this.newLine().addCmd("cnpj: "+t.company_cnpj),this.newLine().addCmd("contato: "+t.company_phone),this.newLine(),this.addCmd("=========================="),this.newLine(),this.align("left"),this},e.prototype.setProducts=function(t){this.newLine();for(var e=0,i=t;e<i.length;e++){var n=i[e],o=n.quantity*n.price;this.sum+=o;var r=n.product_name.split("1/2");if(r[1])for(var s=0;s<r.length;s++)r[s]&&this.addCmd("1/2 "+this.quote(r[s])).newLine();else this.addCmd(this.quote(n.product_name));this.newLine().addCmd("R$ "+n.price+"  "+n.quantity+"x  =  R$ "+o),n.obs&&this.newLine().addCmd("obs: "+this.quote(n.obs)),this.newLine().addCmd("----------------------").newLine()}return this.total+=this.sum,this},e.prototype.footer=function(t){this.resume(t),this.setFontSize(38),this.newLine(1).addCmd(("Pedido: "+t.order).toUpperCase()).newLine(1),this.setFontSize(0),this.newLine(3).cut("full")},e.prototype.build=function(t){return this.headers(t.printer_options).setProducts(t.products).footer(t),this},e}(s),a=function(t){function e(e){var i=t.call(this,e)||this;return i.http=e,i}return n.d(e,t),e.prototype.headers=function(t){return this.copy=t.printer_options.copy_prepare,this.align("center"),this.configDate(),this.setFontSize(38),this.addCmd("Preparo".toUpperCase()),this.newLine().addCmd(("Pedido: "+t.order).toUpperCase()).newLine(),this.setFontSize(0),2==t.type?this.addCmd("ENTREGA").newLine():this.addCmd("BALCAO").newLine(),this.align("left"),this},e.prototype.setProducts=function(t){this.newLine();for(var e=0,i=t;e<i.length;e++){var n=i[e],o=n.product_name.split("1/2");if(this.addCmd(n.quantity+" - "),o[1])for(var r=0;r<o.length;r++)o[r]&&this.addCmd("1/2 "+this.quote(o[r])).newLine().addCmd("    ");else this.addCmd(this.quote(n.product_name));n.obs&&this.newLine().addCmd("obs: "+this.quote(n.obs)),this.newLine().addCmd("----------------------").newLine()}return this.total+=this.sum,this},e.prototype.footer=function(){return this.newLine(2),this.newLine().addCmd("----------------------"),this},e.prototype.build=function(t){return this.headers(t).setFontSize(t.printer_options.font_size).setProducts(t.products).setFontSize(0).footer().cut("full"),this},e}(s),d=function(t){function e(e){var i=t.call(this,e)||this;return i.http=e,i}return n.d(e,t),e.prototype.headers=function(t,e){return this.copy=t.copy_delivery,this.align("center"),this.configDate(),this.setFontSize(38),this.addCmd("Entrega"),this.newLine().addCmd("Pedido: "+e).newLine(1),this.setFontSize(0),this.align("left"),this},e.prototype.setProducts=function(t){this.newLine();for(var e=0,i=t;e<i.length;e++){var n=i[e];this.sum+=n.quantity*n.price;var o=n.product_name.split("1/2");if(this.addCmd(n.quantity+" - "),o[1])for(var r=0;r<o.length;r++)o[r]&&this.addCmd("1/2 "+this.quote(o[r])).newLine().addCmd("    ");else this.addCmd(this.quote(n.product_name));n.obs&&this.newLine().addCmd("obs: "+this.quote(n.obs)),this.newLine().addCmd("----------------------").newLine()}return this.total+=this.sum,this},e.prototype.footer=function(t,e){return t&&(t.reference_point=t.reference_point?t.reference_point:"n\xe3o informado",this.newLine().addCmd("Nome: "+this.quote(t.name)).newLine().addCmd("Contato: "+t.cellphone+"/"+t.phone).newLine().addCmd("Endereco: "+this.quote(t.address_street)+" N: "+t.address_number).newLine().addCmd("Bairro: "+this.quote(t.address_neighborhood)).newLine().addCmd("Referencia: "+this.quote(t.reference_point)).newLine().addCmd("----------------------").newLine()),this.resume(e),this},e.prototype.build=function(t){return this.headers(t.printer_options,t.order).setFontSize(t.printer_options.font_size).setProducts(t.products).setFontSize(0).footer(t.client,t).cut("full"),this},e}(s),p=function(t){function e(e){var i=t.call(this,e)||this;return i.http=e,i}return n.d(e,t),e.prototype.headers=function(t){return this.copy=t.copy_master,this.align("center"),this.setFontSize(38),this.addCmd(this.quote(t.company_name)),this.setFontSize(0),this.newLine().addCmd("cnpj: "+t.company_cnpj),this.newLine().addCmd("contato: "+t.company_phone),this.newLine(1),this.align("left"),this},e.prototype.setProducts=function(t){for(var e=0,i=t;e<i.length;e++){var n=i[e],o=n.quantity*n.price;this.sum+=o;var r=n.product_name.split("1/2");if(r[1])for(var s=0;s<r.length;s++)r[s]&&this.addCmd("1/2 "+this.quote(r[s])).newLine();else this.addCmd(this.quote(n.product_name));this.newLine(),this.addCmd("R$ "+n.price+"  "+n.quantity+"x  =  R$ "+o),n.obs&&this.newLine().addCmd("obs: "+this.quote(n.obs)),this.newLine()}return this.total+=this.sum,this},e.prototype.footer=function(t){this.resumeMini(t),this.setFontSize(38),this.newLine().addCmd(("Pedido: "+t.order).toUpperCase()),this.setFontSize(0)},e.prototype.build=function(t){return this.headers(t.printer_options).setProducts(t.products).footer(t),this},e.prototype.resumeMini=function(t){var e=t.change?t.change:0;return this.setFreight(t.freight).calcRateService(t.printer_options.rate_service).addCmd("TOTAL: R$"+parseFloat(this.total.toFixed(2))).newLine().addCmd("PAGAMENTO : "+t.form_payment).newLine().addCmd("TROCO: "+e).newLine(),this},e}(s),c=function(t){function e(e){var i=t.call(this,e)||this;return i.http=e,i}return n.d(e,t),e.prototype.headers=function(t,e){return this.copy=t.copy_prepare,this.setFontSize(38),this.addCmd("Preparo".toUpperCase()),this.newLine(1).addCmd(("Pedido: "+e).toUpperCase()).newLine(1),this.setFontSize(0),this},e.prototype.setProducts=function(t){for(var e=0,i=t;e<i.length;e++){var n=i[e],o=n.product_name.split("1/2");if(this.addCmd(n.quantity+" - "),o[1])for(var r=0;r<o.length;r++)o[r]&&this.addCmd("1/2 "+this.quote(o[r])).newLine().addCmd("    ");else this.addCmd(this.quote(n.product_name));n.obs&&this.newLine().addCmd("obs: "+this.quote(n.obs)),this.newLine()}return this.total+=this.sum,this},e.prototype.footer=function(){return this.setFontSize(0),this},e.prototype.build=function(t){return this.headers(t.printer_options,t.order).setFontSize(t.printer_options.font_size).setProducts(t.products).footer(),this},e}(s),u=function(t){function e(e){var i=t.call(this,e)||this;return i.http=e,i}return n.d(e,t),e.prototype.headers=function(t,e){return this.copy=t.copy_delivery,this.setFontSize(38),this.addCmd("Entrega"),this.newLine().addCmd("Pedido: "+e).newLine(1),this.setFontSize(0),this},e.prototype.setProducts=function(t){for(var e=0,i=t;e<i.length;e++){var n=i[e];this.sum+=n.quantity*n.price;var o=n.product_name.split("1/2");if(this.addCmd(n.quantity+" - "),o[1])for(var r=0;r<o.length;r++)o[r]&&this.addCmd("1/2 "+this.quote(o[r])).newLine().addCmd("    ");else this.addCmd(this.quote(n.product_name));n.obs&&this.newLine().addCmd("obs: "+this.quote(n.obs)),this.newLine()}return this.total+=this.sum,this},e.prototype.footer=function(t,e){return t&&(t.reference_point=t.reference_point?t.reference_point:"n\xe3o informado",this.newLine().addCmd("Nome: "+this.quote(t.name)).newLine().addCmd("Contato: "+t.cellphone+"/"+t.phone).newLine().addCmd("Endereco: "+this.quote(t.address_street)+" N: "+t.address_number).newLine().addCmd("Bairro: "+this.quote(t.address_neighborhood)).newLine().addCmd("Referencia: "+this.quote(t.reference_point)).newLine()),this.resumeMini(e),this},e.prototype.build=function(t){return this.headers(t.printer_options,t.order).setProducts(t.products).footer(t.client,t),this},e.prototype.resumeMini=function(t){var e=t.change?t.change:0;return this.setFreight(t.freight).calcRateService(t.printer_options.rate_service).addCmd("TOTAL: R$"+parseFloat(this.total.toFixed(2))).newLine().addCmd("PAGAMENTO : "+t.form_payment).newLine().addCmd("TROCO: "+e).newLine(),this},e}(s),m=i("CcnG"),f=i("t/Na"),l=i("iw74");i.d(e,"a",function(){return g});var g=function(t){function e(e,i,n){var o=t.call(this,e,i)||this;return o.storage=n,o.printer_options={},o.printers=[],o.url="printer",o.urlApi="http://localhost:3002",o.paymentOptions=[{id:1,name:"Cart\xe3o Debito / Cr\xe9dito",icon:"fa-credit-card"},{id:2,name:"Vaucher",icon:"fa-money-check"},{id:3,name:"Dinheiro",icon:"fa-money-bill-wave"},{id:4,name:"Conta cliente",icon:"fa-wallet",clientAccount:!0}],o}return n.d(e,t),e.prototype.getOptions=function(){return this.storage.get("printer_options")},e.prototype.setOptions=function(){this.storage.set("printer_options",this.printer_options)},e.prototype.prepare=function(t){this.urlApi=this.printer_options.ip?"http://"+this.printer_options.ip+":3002":"http://localhost:3002";var e=this.paymentOptions.find(function(e){if(Number(e.id)==Number(t.form_payment))return e});return t.form_payment=e?e.name:"",{url:this.printer_options.ip?"http://"+this.printer_options.ip+":3002":"http://localhost:3002",cmds:"",order:t.number,change:t.change,form_payment:t.form_payment,total:t.total,type:t.type,freight:t.freight,printer_options:this.printer_options,products:t.current_products,client:t.client,table:t.table}},e.prototype.send=function(t,e){if(void 0===e&&(e={}),!0===e.printer)for(var i=1;i<=e.copy;i++)t.build(e.data).execute(e.data)},e.prototype.profissional=function(t){var e=this.prepare(t),i=new h(this.http),n=new a(this.http),o=new d(this.http);return this.send(i,{data:e,printer:this.printer_options.master,copy:this.printer_options.copy_master}),this.send(n,{data:e,printer:this.printer_options.prepare,copy:this.printer_options.copy_prepare}),2==e.type&&this.send(o,{data:e,printer:this.printer_options.delivery,copy:this.printer_options.copy_delivery}),!1},e.prototype.mini=function(t){var e=this.prepare(t),i=new p(this.http),n=new c(this.http),o=new u(this.http);return this.send(i,{data:e,printer:this.printer_options.master,copy:this.printer_options.copy_master}),this.send(n,{data:e,printer:this.printer_options.prepare,copy:this.printer_options.copy_prepare}),2==e.type&&this.send(o,{data:e,printer:this.printer_options.delivery,copy:this.printer_options.copy_delivery}),!1},e.prototype.printer=function(t){1==this.printer_options.format?this.mini(t):this.profissional(t)},e.prototype.printerStatement=function(t){return this.http.post("http://localhost:3002/printer/statement",{data:t,printer_options:this.printer_options})},e.ngInjectableDef=m.U({factory:function(){return new e(m.Y(f.c),m.Y(o.a),m.Y(l.b))},token:e,providedIn:"root"}),e}(r.a)},kWGw:function(t,e,i){"use strict";i.d(e,"c",function(){return u}),i.d(e,"b",function(){return c}),i.d(e,"a",function(){return h});var n=i("CcnG"),o=i("mrSG"),r=i("n6gG"),s=(i("gIcY"),i("Wf4p")),h=new n.q("mat-slide-toggle-default-options",{providedIn:"root",factory:function(){return{disableToggleValue:!1,disableDragValue:!1}}}),a=0,d=function(){return function(t,e){this.source=t,this.checked=e}}(),p=function(){return function(t){this._elementRef=t}}(),c=function(t){function e(e,i,o,r,s,h,d,p,c){var u=t.call(this,e)||this;return u._focusMonitor=o,u._changeDetectorRef=r,u._ngZone=h,u.defaults=d,u._animationMode=p,u._dir=c,u.onChange=function(t){},u.onTouched=function(){},u._uniqueId="mat-slide-toggle-"+ ++a,u._required=!1,u._checked=!1,u._dragging=!1,u.name=null,u.id=u._uniqueId,u.labelPosition="after",u.ariaLabel=null,u.ariaLabelledby=null,u.change=new n.n,u.toggleChange=new n.n,u.dragChange=new n.n,u.tabIndex=parseInt(s)||0,u}return Object(o.d)(e,t),Object.defineProperty(e.prototype,"required",{get:function(){return this._required},set:function(t){this._required=Object(r.c)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checked",{get:function(){return this._checked},set:function(t){this._checked=Object(r.c)(t),this._changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputId",{get:function(){return(this.id||this._uniqueId)+"-input"},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){var t=this;this._focusMonitor.monitor(this._elementRef,!0).subscribe(function(e){e||Promise.resolve().then(function(){return t.onTouched()})})},e.prototype.ngOnDestroy=function(){this._focusMonitor.stopMonitoring(this._elementRef)},e.prototype._onChangeEvent=function(t){t.stopPropagation(),this._dragging||this.toggleChange.emit(),this._dragging||this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())},e.prototype._onInputClick=function(t){t.stopPropagation()},e.prototype.writeValue=function(t){this.checked=!!t},e.prototype.registerOnChange=function(t){this.onChange=t},e.prototype.registerOnTouched=function(t){this.onTouched=t},e.prototype.setDisabledState=function(t){this.disabled=t,this._changeDetectorRef.markForCheck()},e.prototype.focus=function(){this._focusMonitor.focusVia(this._inputElement,"keyboard")},e.prototype.toggle=function(){this.checked=!this.checked,this.onChange(this.checked)},e.prototype._emitChangeEvent=function(){this.onChange(this.checked),this.change.emit(new d(this,this.checked))},e.prototype._getDragPercentage=function(t){var e=t/this._thumbBarWidth*100;return this._previousChecked&&(e+=100),Math.max(0,Math.min(e,100))},e.prototype._onDragStart=function(){if(!this.disabled&&!this._dragging){var t=this._thumbEl.nativeElement;this._thumbBarWidth=this._thumbBarEl.nativeElement.clientWidth-t.clientWidth,t.classList.add("mat-dragging"),this._previousChecked=this.checked,this._dragging=!0}},e.prototype._onDrag=function(t){if(this._dragging){var e=this._dir&&"rtl"===this._dir.value?-1:1;this._dragPercentage=this._getDragPercentage(t.deltaX*e),this._thumbEl.nativeElement.style.transform="translate3d("+this._dragPercentage/100*this._thumbBarWidth*e+"px, 0, 0)"}},e.prototype._onDragEnd=function(){var t=this;if(this._dragging){var e=this._dragPercentage>50;e!==this.checked&&(this.dragChange.emit(),this.defaults.disableDragValue||(this.checked=e,this._emitChangeEvent())),this._ngZone.runOutsideAngular(function(){return setTimeout(function(){t._dragging&&(t._dragging=!1,t._thumbEl.nativeElement.classList.remove("mat-dragging"),t._thumbEl.nativeElement.style.transform="")})})}},e.prototype._onLabelTextChange=function(){this._changeDetectorRef.detectChanges()},e}(Object(s.J)(Object(s.E)(Object(s.F)(Object(s.G)(p)),"accent"))),u=function(){return function(){}}()}}]);